<div class="container-xxl">

  <h1>Настройки</h1>

  <div class="card text-bg-light mb-3">
    <div class="card-header">
      <app-utils-collapse-title
        (toggle)="checkFileStoreCollapseToggle()"
        [collapsed]="checkFileStoreCollapsed()"
      >
        Проверить настройки файлового хранилища
      </app-utils-collapse-title>
    </div>
    <div [ngbCollapse]="checkFileStoreCollapsed()">
      <app-settings-check-file-store class="card-body"></app-settings-check-file-store>
    </div>
  </div>

</div>

<div class="container-xxl">

  <form [formGroup]="form">
    <ng-container formArrayName="settings">
      @for (oneSettingControl of formSettingsArray.controls; track oneSettingControl.value.meta?.name; let ind = $index) {
        <div
          class="mb-3 form-floating"
          *ngrxLet="oneSettingControl.value.meta as oneSettingMeta"
          [formGroupName]="ind"
        >
          <input
            type="text"
            formControlName="value"
            class="form-control"
            [id]="oneSettingMeta?.name"
            [placeholder]="oneSettingMeta?.name"
          />
          <label
            class="text-secondary"
            [for]="oneSettingMeta?.name"
          >
            {{ oneSettingMeta?.label }}
          </label>
          <div class="small text-secondary lh-sm">
            {{ oneSettingMeta?.description }}
          </div>
        </div>
      }
    </ng-container>
  </form>

</div>

<div class="container-xxl">

  <h1>Настройки</h1>

  <div class="card text-bg-light mb-3">
    <div class="card-header">
      <app-utils-collapse-title
        (toggle)="checkFileStoreCollapseToggle()"
        [collapsed]="checkFileStoreCollapsed()"
      >
        Проверить настройки файлового хранилища
      </app-utils-collapse-title>
    </div>
    <div [ngbCollapse]="checkFileStoreCollapsed()">
      <app-settings-check-file-store class="card-body"></app-settings-check-file-store>
    </div>
  </div>

</div>

<div class="container-xxl">

  <form [formGroup]="form">
    <div class="d-flex flex-column gap-3">
      <ng-container formArrayName="settings">
      @for (oneSettingControl of formSettingsArray.controls; track oneSettingControl.value.meta?.name; let ind = $index) {
        <app-utils-form-item
          *ngrxLet="oneSettingControl.value.meta as oneSettingMeta"
          [formGroupName]="ind"
          [controlDescription]="oneSettingMeta?.description"
          [controlId]="oneSettingMeta?.name"
          [controlLabel]="oneSettingMeta?.label"
          controlValidationName="value"
          layout="floating"
        >
          <input
            type="text"
            formControlName="value"
            class="form-control"
            [id]="oneSettingMeta?.name"
            [placeholder]="oneSettingMeta?.name"
          />
        </app-utils-form-item>
      }
    </ng-container>
    </div>
  </form>

</div>
